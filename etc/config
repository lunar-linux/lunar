export            PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11/bin

export        DIALOGRC=/etc/lunar/dialogrc

          CONFIG_CACHE=/etc/lunar/local
          LOCAL_CONFIG=/etc/lunar/local/config
        DEPENDS_CONFIG=/etc/lunar/local/depends
        LOCAL_EXCLUDED=/etc/lunar/local/excluded
               MIRRORS=/etc/lunar/mirrors

         LUNAR_MODULES="lunar theedge"
        MOONBASE_TYPES="stable unstable"

       BUILD_DIRECTORY=/usr/src
    DOCUMENT_DIRECTORY=/usr/share/doc

        DEFAULT_PREFIX=/usr

              EXCLUDED=/var/lib/lunar/excluded
              MOONBASE=/var/lib/lunar/moonbase
             PROTECTED=/var/lib/lunar/protected
                  SOLO=/var/lib/lunar/solo
             FUNCTIONS=/var/lib/lunar/functions
                 MENUS=/var/lib/lunar/menu
             SUSTAINED=/var/lib/lunar/sustained
            PLUGIN_DIR=/var/lib/lunar/plugins

       SOUND_DIRECTORY=/var/lib/lunar/sound
           SOUND_THEME=startrek

          ACTIVITY_LOG=/var/log/lunar/activity
          INSTALL_LOGS=/var/log/lunar/install
          COMPILE_LOGS=/var/log/lunar/compile
           MD5SUM_LOGS=/var/log/lunar/md5sum
         INSTALL_QUEUE=/var/log/lunar/queue/install
          REMOVE_QUEUE=/var/log/lunar/queue/remove

        DEPENDS_STATUS=/var/state/lunar/depends
 DEPENDS_STATUS_BACKUP=/var/state/lunar/depends.backup
         DEPENDS_CACHE=/var/state/lunar/depends.cache
         MODULE_STATUS=/var/state/lunar/packages
  MODULE_STATUS_BACKUP=/var/state/lunar/packages.backup
          MODULE_INDEX=/var/state/lunar/module.index

         INSTALL_CACHE=/var/cache/lunar
          SOURCE_CACHE=${SOURCE_CACHE:-/var/spool/lunar}

#  Override the following variables in /etc/lunar/local/config
#  Or by exporting them before installing or removing.

              ARCHIVE=${ARCHIVE:-on}
              AUTOFIX=${AUTOFIX:-on}
            AUTOPRUNE=${AUTOPRUNE:-on}
         MAIL_REPORTS=${MAIL_REPORTS:-off}
             PRESERVE=${PRESERVE:-on}
                 REAP=${REAP:-on}
                ADMIN=${ADMIN:-root}
                SOUND=${SOUND:-off}
              SUSTAIN=${SUSTAIN:-on}
         VIEW_REPORTS=${VIEW_REPORTS:-off}
               VOYEUR=${VOYEUR:-on}
              GARBAGE=${GARBAGE:-on}
         PROMPT_DELAY=${PROMPT_DELAY:-150}
        PROBE_EXPIRED=${PROBE_EXPIRED:-on}
       LUNAR_PRIORITY="+10"

            LDD_CHECK=${LDD_CHECK:-on}
           FIND_CHECK=${FIND_CHECK:-on}
         MD5SUM_CHECK=${MD5SUM_CHECK:-on}
            SYM_CHECK=${SYM_CHECK:-off}

              GNU_URL=ftp://ftp.gnu.org/pub/gnu
              KDE_URL=ftp://ftp.kde.org/pub/kde
            GNOME_URL=ftp://ftp.gnome.org/pub/GNOME
           KERNEL_URL=ftp://ftp.kernel.org
           SFORGE_URL=http://downloads.sourceforge.net/sourceforge
          XFREE86_URL=ftp://ftp.xfree86.org/pub/XFree86
             XORG_URL=ftp://ftp.freedesktop.org/pub/xorg
          LRESORT_URL=http://download.lunar-linux.org/lunar/cache

      MOONBASE_URL[0]=http://lunar-linux.org/lunar/
      MOONBASE_URL[1]=http://download.lunar-linux.org/lunar/

            PATCH_URL=http://download.lunar-linux.org/lunar/patches/
           MIRROR_URL=http://download.lunar-linux.org/lunar/mirrors/

              TRACKED="/bin /boot /etc /lib /sbin /usr /var /opt/lunar"

               TMPDIR=${TMPDIR:-/tmp}

              DEFAULT="\e[0m"
                 BOLD="\e[1m"
                BLACK="\e[30m"
                  RED="\e[31m"
                GREEN="\e[32m"
               YELLOW="\e[33m"
                 BLUE="\e[34m"
               VIOLET="\e[35m"
                 CYAN="\e[36m"
                WHITE="\e[37m"

         MODULE_COLOR="${WHITE}${BOLD}\e[40m"
        VERSION_COLOR="${WHITE}${BOLD}\e[40m"
          QUERY_COLOR="${YELLOW}${BOLD}"
            LRM_COLOR="${YELLOW}${BOLD}"
          CHECK_COLOR="${CYAN}"
      RESURRECT_COLOR="${GREEN}${BOLD}"
           FILE_COLOR="${GREEN}${BOLD}"
        SYMLINK_COLOR="${CYAN}${BOLD}"
        PROBLEM_COLOR="${RED}${BOLD}"
        MESSAGE_COLOR="${BLUE}${BOLD}"
        MESSAGE_COLOR="${CYAN}"
        DEFAULT_COLOR="${DEFAULT}"

        TAB_ENTER_IFS=$'\t\n'
        ENTER_IFS=$'\n'
        STANDARD_IFS=$' \t\n'

for FUNCTION in $FUNCTIONS/*.lunar ; do
  . $FUNCTION
done

if [ -s "$LOCAL_CONFIG" ] ; then
  . $LOCAL_CONFIG
fi

for DIR_VAR in CONFIG_CACHE DEPENDS_CONFIG BUILD_DIRECTORY DOCUMENT_DIRECTORY DEFAULT_PREFIX MOONBASE FUNCTIONS MENUS PLUGIN_DIR SOUND_DIRECTORY INSTALL_LOGS COMPILE_LOGS MD5SUM_LOGS INSTALL_CACHE SOURCE_CACHE TMPDIR ; do
  eval $DIR_VAR=\${$DIR_VAR/%\\/}
done

sound $SOUND
color $COLOR

for LUNAR_PLUGIN in $PLUGIN_DIR/*.plugin; do
  . $LUNAR_PLUGIN
done

